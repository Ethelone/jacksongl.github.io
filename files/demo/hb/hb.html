<!DOCTYPE html><title>Happy Birthday!</title><style>*{margin:0;padding:0}body{background-color:#05182d}@-webkit-keyframes backgroundAnimate{from{left:0;top:0}to{left:-10000px;top:-2000px}}@-moz-keyframes backgroundAnimate{from{left:0;top:0}to{left:-10000px;top:-2000px}}@-o-keyframes backgroundAnimate{from{left:0;top:0}to{left:-10000px;top:-2000px}}@keyframes backgroundAnimate{from{left:0;top:0}to{left:-10000px;top:-2000px}}#back{background:url(imgs/back.png) repeat 20% 20%;position:fixed;top:0;left:0;right:0;bottom:0;opacity:.4;z-index:-1;-webkit-animation-name:backgroundAnimate;-webkit-animation-duration:500s;-webkit-animation-timing-function:linear;-webkit-animation-iteration-count:infinite;-moz-animation-name:backgroundAnimate;-moz-animation-duration:5s;-moz-animation-timing-function:linear;-moz-animation-iteration-count:infinite;-o-animation-name:backgroundAnimate;-o-animation-duration:500s;-o-animation-timing-function:linear;-o-animation-iteration-count:infinite;animation-name:backgroundAnimate;animation-duration:500s;animation-timing-function:linear;animation-iteration-count:infinite}#front{background:url(imgs/front.png) repeat 35% 35%;position:fixed;top:0;left:0;right:0;bottom:0;opacity:.6;z-index:-1;-webkit-animation-name:backgroundAnimate;-webkit-animation-duration:300s;-webkit-animation-timing-function:linear;-webkit-animation-iteration-count:infinite;-moz-animation-name:backgroundAnimate;-moz-animation-duration:300s;-moz-animation-timing-function:linear;-moz-animation-iteration-count:infinite;-o-animation-name:backgroundAnimate;-o-animation-duration:300s;-o-animation-timing-function:linear;-o-animation-iteration-count:infinite;animation-name:backgroundAnimate;animation-duration:300s;animation-timing-function:linear;animation-iteration-count:infinite}chart{display:block;margin-left:auto;margin-right:auto}text{text-anchor:middle;fill:#8a0707;font-size:28px;opacity:.9}path{stroke:#d31e1e;stroke-width:1.8;fill:none;opacity:.7}circle{fill:#8a0707;opacity:0}.footnote{color:gray;font-family:Verdana;font-size:6px;position:fixed;bottom:8px;right:9px}.centered{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}#core-img{width:120px;display:none}</style><script src=js/d3.v3.min.js></script><script src=js/jquery.min.js></script><div id=back></div><div id=chart></div><div class=centered><img id=core-img></div><script>function drawLines(t){path.attr("stroke-dasharray",totalLength+" "+totalLength).attr("stroke-dashoffset",totalLength).transition().duration(t).delay(10).ease("linear").attr("stroke-dashoffset",0)}function showImage(t){$("#core-img").fadeOut(200).attr("src",t).fadeIn(3e3)}window.onerror=function(){location.reload()};var audio=new Audio("music.mp3");audio.play();for(var margin={top:10,right:10,bottom:10,left:10},docHeight=$(document).height()-margin.left-margin.right,docWidth=$(document).width()-margin.top-margin.bottom,minSize=Math.min(500,docWidth-40,docHeight-40),width=minSize,height=minSize,x,y,data=[],i=0;i<5e3;i++)x=16*Math.pow(Math.sin(i),3),y=14*Math.cos(i)-5*Math.cos(2*i)-3*Math.cos(3*i)-Math.cos(4*i),data[i]=[x,y];var xScale=d3.scale.linear().domain([d3.min(data,function(t){return t[0]}),d3.max(data,function(t){return t[0]})]).range([0,width]),yScale=d3.scale.linear().domain([d3.min(data,function(t){return t[1]}),d3.max(data,function(t){return t[1]})]).range([height,0]),chart=d3.select("#chart").append("svg").attr("width",docWidth).attr("height",docHeight).attr("class","chart").attr("transform","translate("+margin.left+","+margin.top+")"),svg=chart.append("g").attr("transform","translate("+(docWidth/2-width/2)+","+(docHeight/2-height/2)+")").attr("width",width).attr("height",height),dots=svg.append("g").selectAll("circle").data(data).enter().append("circle").attr("cx",function(t,e){return xScale(t[0])}).attr("cy",function(t){return yScale(t[1])}).attr("r",2),line=d3.svg.line().interpolate("linear").x(function(t){return xScale(t[0])}).y(function(t){return yScale(t[1])}),path=svg.append("g").append("path").attr("d",line(data)),totalLength=path.node().getTotalLength();drawLines(2e7),setTimeout(drawLines.bind(null,2e6),65e3),setTimeout(drawLines.bind(null,2e7),95e3),setTimeout(drawLines.bind(null,2e6),146500),setTimeout(drawLines.bind(null,1e6),161500),setTimeout(drawLines.bind(null,6e5),175500),setTimeout(drawLines.bind(null,16e4),191e3),setTimeout(showImage.bind(null,"imgs/pp-kiss.gif"),209e3),$("body").append('<div class="footnote">Liang Gong, EECS Department, UC Berkeley</div>')</script>